# System-Report

#!/bin/bash

#Variables for System Info
myHostname=$(hostname)
myUsername=$USER
myOS=$(lsb_release -d | grep -w "Ubuntu" | awk '{print $2 " " $3 " " $4}')
myUptime=$(uptime -p)

#Variables for Hardware Info
myCPU=$(lscpu | grep "Model name:" | awk '{print $3 " " $4 " " $5}')
mySpeed=$(lscpu | grep "Model name:" | awk '{print $8}')
myTotalRam=$(free -h | grep "Mem:" | awk '{print $2}')
myUsedRam=$(free -h | grep "Mem:" | awk '{print $3}')
myAvailableRam=$(free -h | grep "Mem:" | awk '{print $7}')
myDisks=$(lsblk -io NAME,MODEL,SIZE)
myVideo=$(lshw -class display | awk '/product/ {print $2 " " $3 " " $4}' )

#Variables for Network Info
myFQDN=$(hostname -f)
myHostAddress=$(hostname -I | awk '{print $1}')
myGateway=$(ip route | grep default | awk '{print$3}')
myDNS=$(grep "nameserver" /etc/resolv.conf | awk '{print $2}')
myInterfaceName=$(sudo lshw -class network |awk '/product/ {print $2 " " $3 " " $4}' |sort|uniq)
myIP=$(ip a s ens33 | grep -w inet | awk '{print $2}')

#Variables for System Status
loggedUsers=$(who -u | awk '{print $1}' | uniq)
myDiskSpace=$(lsblk -io MOUNTPOINTS,SIZE | uniq)
myProcessCount=$(ps -e | wc -l)
myLoadAverages=$(cat /proc/loadavg | awk '{print $1 ", " $2 ", " $3 ", " $4 ", " $5}')
memoryAllocation=$(free -h | grep "Mem:" | awk '{print $4}')
listeningNetworkPorts=$(ss -Htlp | awk '/LISTEN/ {print $3}' | cut -d':' -f2| tr '\n' ',')
myUFWRules=$(sudo ufw status | awk '{print $1 " " $2}')

cat <<EOF


This system report was generated by $myUsername on $(date)


System Information
------------------
Hostname:       $myHostname
OS:             $myOS
Uptime:         $myUptime


Hardware Information
--------------------
CPU:            $myCPU
Speed:          $mySpeed
Ram (Total):    $myTotalRam
Ram (Used):     $myUsedRam
Ram (Avail):    $myAvailableRam
Disk(s): 
$myDisks
Video:          $myVideo

Network Information
-------------------
FQDN:           $myFQDN
Host Address:   $myHostAddress
Gateway IP:     $myGateway
DNS Server:     $myDNS
Interface Name: $myInterfaceName
IP Address:     $myIP

System Status
-------------
Users LoggedIn: $loggedUsers
Disk Space: 
$myDiskSpace
Process Count:           $myProcessCount
Load Averages:           $myLoadAverages
Memory Allocation:       $memoryAllocation
Listening Network Ports: $listeningNetworkPorts
UFW Rules:               $myUFWRules

Report by $myUsername on $(date)

EOF
